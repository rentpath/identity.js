{"version":3,"sources":["webpack:///identity-1.2.1.min.js","webpack:///webpack/bootstrap fbb4b8837e97869ad5c4","webpack:///./src/index.js","webpack:///./~/babel-runtime/helpers/interop-require-default.js","webpack:///./src/identity.js","webpack:///./src/request.js","webpack:///./~/babel-runtime/helpers/class-call-check.js","webpack:///./~/js-cookie/src/js.cookie.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","_identity","obj","__esModule","default","Object","defineProperty","value","_request2","_request3","Cookies","Identity","_request","successFn","failureFn","zidUuid","host","port","action","data","callback","params","_serialize","uzid","this","universal_zid","uuid","url","target","xhr","send","fetch","object","str","undefined","hasOwnProperty","push","encodeURIComponent","join","cookify","cookieName","arguments","length","expiry","set","expires","errorFn","retries","timeout","uzidUuid","link","track","address","window","location","href","methodName","shift","apply","unlink","getJSON","_classCallCheck","Request","method","timeoutFn","_this","retry","request","withCredentials","XMLHttpRequest","hostname","replace","path","repeat","open","setRequestHeader","onload","status","JSON","parse","responseText","onerror","readyState","ontimeout","instance","Constructor","TypeError","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_RESULT__","factory","extend","i","result","attributes","key","init","converter","api","defaults","Date","setMilliseconds","getMilliseconds","stringify","test","e","write","String","decodeURIComponent","escape","document","cookie","toUTCString","domain","secure","cookies","split","rdecode","parts","name","slice","charAt","read","json","get","remove","withConverter"],"mappings":"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","file":"identity-1.2.1.min.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _interopRequireDefault = __webpack_require__(1)['default'];\n\t\n\tvar _identity = __webpack_require__(2);\n\t\n\tvar _identity2 = _interopRequireDefault(_identity);\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\texports[\"default\"] = function (obj) {\n\t  return obj && obj.__esModule ? obj : {\n\t    \"default\": obj\n\t  };\n\t};\n\t\n\texports.__esModule = true;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _interopRequireDefault = __webpack_require__(1)['default'];\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar _request2 = __webpack_require__(3);\n\t\n\tvar _request3 = _interopRequireDefault(_request2);\n\t\n\tvar Cookies = __webpack_require__(5);\n\t\n\tvar Identity = {\n\t  _request: function _request(successFn, failureFn, zidUuid, host, port, action, data) {\n\t    var callback = function callback() {\n\t      var params = Identity._serialize(data);\n\t      var uzid = this.universal_zid.uuid;\n\t      var url = '/universal_zids/' + uzid + '/' + action + '/' + zidUuid;\n\t      var target = params ? url + '?' + params : url;\n\t      var xhr = new _request3['default'](successFn, failureFn, host, port, target, 'POST');\n\t      xhr.send();\n\t    };\n\t    Identity.fetch(callback, failureFn, host, port);\n\t  },\n\t\n\t  _serialize: function _serialize(object) {\n\t    var str = [];\n\t\n\t    if (object === undefined) {\n\t      return undefined;\n\t    }\n\t\n\t    for (var p in object) {\n\t      if (object.hasOwnProperty(p)) {\n\t        str.push(encodeURIComponent(p) + '=' + encodeURIComponent(object[p]));\n\t      }\n\t    }\n\t\n\t    return str.join('&');\n\t  },\n\t\n\t  cookify: function cookify(value) {\n\t    var cookieName = arguments.length <= 1 || arguments[1] === undefined ? 'uzid' : arguments[1];\n\t    var expiry = arguments.length <= 2 || arguments[2] === undefined ? 365 : arguments[2];\n\t\n\t    Cookies.set(cookieName, value, { expires: expiry });\n\t  },\n\t\n\t  fetch: function fetch(successFn, errorFn, host, port, retries, timeout) {\n\t    var uzidUuid = Identity.uzid();\n\t\n\t    if (uzidUuid && successFn) {\n\t      successFn.call({ 'universal_zid': { 'uuid': uzidUuid } });\n\t      return;\n\t    }\n\t\n\t    var target = '/universal_zids/new';\n\t    var xhr = new _request3['default'](successFn, errorFn, host, port, target, 'GET', retries, timeout);\n\t    xhr.send();\n\t  },\n\t\n\t  link: function link(successFn, failureFn, zidUuid, host, port) {\n\t    Identity._request(successFn, failureFn, zidUuid, host, port, 'zid_link');\n\t  },\n\t\n\t  track: function track(successFn, failureFn, host, port) {\n\t    var data = { 'address': window.location.href };\n\t    Identity._request(successFn, failureFn, '', host, port, 'access_log', data);\n\t  },\n\t\n\t  push: function push(params) {\n\t    var methodName = params.shift();\n\t    this[methodName].apply(this, params);\n\t  },\n\t\n\t  unlink: function unlink(successFn, failureFn, zidUuid, host, port) {\n\t    Identity._request(successFn, failureFn, zidUuid, host, port, 'zid_decouple');\n\t  },\n\t\n\t  uzid: function uzid() {\n\t    var cookieName = arguments.length <= 0 || arguments[0] === undefined ? 'uzid' : arguments[0];\n\t\n\t    return Cookies.getJSON(cookieName);\n\t  }\n\t};\n\t\n\texports['default'] = Identity;\n\t\n\tif (window && window.Identity) {\n\t  while (window.Identity.length) {\n\t    Identity.push(window.Identity.shift());\n\t  }\n\t}\n\t\n\twindow.Identity = Identity;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _classCallCheck = __webpack_require__(4)['default'];\n\t\n\tObject.defineProperty(exports, '__esModule', {\n\t  value: true\n\t});\n\t\n\tvar Request = function Request(successFn, failureFn, host, port, target, method, retries, timeout, timeoutFn) {\n\t  if (failureFn === undefined) failureFn = function () {};\n\t  if (host === undefined) host = 'http://identity.rentpathservices.com';\n\t  if (port === undefined) port = 80;\n\t  if (target === undefined) target = '/universal_zids/new';\n\t  if (method === undefined) method = 'GET';\n\t  if (retries === undefined) retries = 3;\n\t\n\t  var _this = this;\n\t\n\t  if (timeout === undefined) timeout = 500;\n\t\n\t  _classCallCheck(this, Request);\n\t\n\t  this.retry = function () {\n\t    return new Request(_this.successFn, _this.failureFn, _this.host, _this.target, _this.method, _this.port, _this.retries - 1, _this.timeout, _this.timeoutFn);\n\t  };\n\t\n\t  this.send = function () {\n\t    _this.request.withCredentials = true;\n\t    _this.request.timeout = _this.timeout;\n\t    _this.request.send();\n\t  };\n\t\n\t  this.failureFn = failureFn;\n\t  this.host = host;\n\t  this.method = method;\n\t  this.port = port;\n\t  this.request = new XMLHttpRequest();\n\t  this.retries = retries;\n\t  this.successFn = successFn;\n\t  this.target = target;\n\t  this.timeout = timeout;\n\t  this.timeoutFn = timeoutFn;\n\t\n\t  var hostname = this.host.replace(/\\/$/, '');\n\t  var path = this.target.replace(/^\\//, '');\n\t  var repeat = this.retry;\n\t  var url = hostname + ':' + port + '/' + path;\n\t\n\t  this.request.open(method, url, true);\n\t  this.request.setRequestHeader('Accept', 'application/json');\n\t  this.request.setRequestHeader('Content-Type', 'application/json');\n\t\n\t  this.request.onload = function () {\n\t    if (this.status >= 200 && this.status < 400) {\n\t      var data = JSON.parse(this.responseText);\n\t      successFn.call(data);\n\t    } else {\n\t      failureFn(this.status, this.responseText);\n\t    }\n\t  };\n\t\n\t  this.request.onerror = function () {\n\t    if (this.readyState === 4 && this.status === 0) {\n\t      failureFn('NO_NETWORK');\n\t    } else {\n\t      failureFn(this.status, this.responseText);\n\t    }\n\t  };\n\t\n\t  this.request.ontimeout = function () {\n\t    if (timeoutFn) {\n\t      timeoutFn();\n\t      return;\n\t    }\n\t\n\t    if (retries > 0) {\n\t      repeat().send();\n\t    } else {\n\t      this.onerror('timeout');\n\t    }\n\t  };\n\t};\n\t\n\texports['default'] = Request;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\texports[\"default\"] = function (instance, Constructor) {\n\t  if (!(instance instanceof Constructor)) {\n\t    throw new TypeError(\"Cannot call a class as a function\");\n\t  }\n\t};\n\t\n\texports.__esModule = true;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n\t * JavaScript Cookie v2.1.0\n\t * https://github.com/js-cookie/js-cookie\n\t *\n\t * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n\t * Released under the MIT license\n\t */\n\t(function (factory) {\n\t\tif (true) {\n\t\t\t!(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\t} else if (typeof exports === 'object') {\n\t\t\tmodule.exports = factory();\n\t\t} else {\n\t\t\tvar _OldCookies = window.Cookies;\n\t\t\tvar api = window.Cookies = factory();\n\t\t\tapi.noConflict = function () {\n\t\t\t\twindow.Cookies = _OldCookies;\n\t\t\t\treturn api;\n\t\t\t};\n\t\t}\n\t}(function () {\n\t\tfunction extend () {\n\t\t\tvar i = 0;\n\t\t\tvar result = {};\n\t\t\tfor (; i < arguments.length; i++) {\n\t\t\t\tvar attributes = arguments[ i ];\n\t\t\t\tfor (var key in attributes) {\n\t\t\t\t\tresult[key] = attributes[key];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t\n\t\tfunction init (converter) {\n\t\t\tfunction api (key, value, attributes) {\n\t\t\t\tvar result;\n\t\n\t\t\t\t// Write\n\t\n\t\t\t\tif (arguments.length > 1) {\n\t\t\t\t\tattributes = extend({\n\t\t\t\t\t\tpath: '/'\n\t\t\t\t\t}, api.defaults, attributes);\n\t\n\t\t\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\t\t\tvar expires = new Date();\n\t\t\t\t\t\texpires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);\n\t\t\t\t\t\tattributes.expires = expires;\n\t\t\t\t\t}\n\t\n\t\t\t\t\ttry {\n\t\t\t\t\t\tresult = JSON.stringify(value);\n\t\t\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\t\t\tvalue = result;\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (e) {}\n\t\n\t\t\t\t\tif (!converter.write) {\n\t\t\t\t\t\tvalue = encodeURIComponent(String(value))\n\t\t\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvalue = converter.write(value, key);\n\t\t\t\t\t}\n\t\n\t\t\t\t\tkey = encodeURIComponent(String(key));\n\t\t\t\t\tkey = key.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent);\n\t\t\t\t\tkey = key.replace(/[\\(\\)]/g, escape);\n\t\n\t\t\t\t\treturn (document.cookie = [\n\t\t\t\t\t\tkey, '=', value,\n\t\t\t\t\t\tattributes.expires && '; expires=' + attributes.expires.toUTCString(), // use expires attribute, max-age is not supported by IE\n\t\t\t\t\t\tattributes.path    && '; path=' + attributes.path,\n\t\t\t\t\t\tattributes.domain  && '; domain=' + attributes.domain,\n\t\t\t\t\t\tattributes.secure ? '; secure' : ''\n\t\t\t\t\t].join(''));\n\t\t\t\t}\n\t\n\t\t\t\t// Read\n\t\n\t\t\t\tif (!key) {\n\t\t\t\t\tresult = {};\n\t\t\t\t}\n\t\n\t\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t\t// in case there are no cookies at all. Also prevents odd result when\n\t\t\t\t// calling \"get()\"\n\t\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\t\tvar rdecode = /(%[0-9A-Z]{2})+/g;\n\t\t\t\tvar i = 0;\n\t\n\t\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\t\tvar name = parts[0].replace(rdecode, decodeURIComponent);\n\t\t\t\t\tvar cookie = parts.slice(1).join('=');\n\t\n\t\t\t\t\tif (cookie.charAt(0) === '\"') {\n\t\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t\t}\n\t\n\t\t\t\t\ttry {\n\t\t\t\t\t\tcookie = converter.read ?\n\t\t\t\t\t\t\tconverter.read(cookie, name) : converter(cookie, name) ||\n\t\t\t\t\t\t\tcookie.replace(rdecode, decodeURIComponent);\n\t\n\t\t\t\t\t\tif (this.json) {\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\t\tresult = cookie;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tif (!key) {\n\t\t\t\t\t\t\tresult[name] = cookie;\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (e) {}\n\t\t\t\t}\n\t\n\t\t\t\treturn result;\n\t\t\t}\n\t\n\t\t\tapi.get = api.set = api;\n\t\t\tapi.getJSON = function () {\n\t\t\t\treturn api.apply({\n\t\t\t\t\tjson: true\n\t\t\t\t}, [].slice.call(arguments));\n\t\t\t};\n\t\t\tapi.defaults = {};\n\t\n\t\t\tapi.remove = function (key, attributes) {\n\t\t\t\tapi(key, '', extend(attributes, {\n\t\t\t\t\texpires: -1\n\t\t\t\t}));\n\t\t\t};\n\t\n\t\t\tapi.withConverter = init;\n\t\n\t\t\treturn api;\n\t\t}\n\t\n\t\treturn init(function () {});\n\t}));\n\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** identity-1.2.1.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap fbb4b8837e97869ad5c4\n **/","import Identity from './identity';\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","\"use strict\";\n\nexports[\"default\"] = function (obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n};\n\nexports.__esModule = true;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/helpers/interop-require-default.js\n ** module id = 1\n ** module chunks = 0\n **/","import Request from './request';\n\nconst Cookies = require('js-cookie');\n\nconst Identity = {\n  _request:\n    function (successFn, failureFn, zidUuid, host, port, action, data) {\n      const callback = function () {\n        const params = Identity._serialize(data);\n        const uzid   = this.universal_zid.uuid;\n        const url    = `/universal_zids/${uzid}/${action}/${zidUuid}`;\n        const target = params ? `${url}?${params}` : url;\n        const xhr    = new Request(successFn, failureFn, host, port, target, 'POST');\n        xhr.send(); };\n      Identity.fetch(callback, failureFn, host, port ); },\n\n  _serialize:\n    function (object) {\n      const str = [];\n\n      if (object === undefined) {\n        return undefined; }\n\n      for (let p in object) {\n        if (object.hasOwnProperty(p)) {\n          str.push(encodeURIComponent(p) + '=' + encodeURIComponent(object[p])); } }\n\n      return str.join('&'); },\n\n  cookify:\n    function (value, cookieName = 'uzid', expiry = 365) {\n      Cookies.set(cookieName, value, { expires: expiry }); },\n\n  fetch:\n    function (successFn, errorFn, host, port, retries, timeout) {\n      const uzidUuid = Identity.uzid();\n\n      if (uzidUuid && successFn) {\n        successFn.call({ 'universal_zid': { 'uuid': uzidUuid } });\n        return;\n      }\n\n      const target = '/universal_zids/new';\n      const xhr    = new Request(successFn, errorFn, host, port, target, 'GET', retries, timeout);\n      xhr.send(); },\n\n  link:\n    function (successFn, failureFn, zidUuid, host, port) {\n      Identity._request(successFn, failureFn, zidUuid, host, port, 'zid_link'); },\n\n  track:\n    function (successFn, failureFn, host, port) {\n      const data = { 'address': window.location.href };\n      Identity._request(successFn, failureFn, '', host, port, 'access_log', data); },\n\n  push:\n    function (params) {\n      const methodName = params.shift();\n      this[methodName].apply(this, params); },\n\n  unlink:\n    function (successFn, failureFn, zidUuid, host, port) {\n      Identity._request(successFn, failureFn, zidUuid, host, port, 'zid_decouple'); },\n\n  uzid:\n    function (cookieName = 'uzid') {\n      return Cookies.getJSON(cookieName); }\n};\n\nexport default Identity;\n\nif (window && window.Identity) {\n  while (window.Identity.length) {\n    Identity.push(window.Identity.shift()); } }\n\nwindow.Identity = Identity;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/identity.js\n **/","class Request {\n  constructor(\n    successFn,\n    failureFn = () => {},\n    host      = 'http://identity.rentpathservices.com',\n    port      = 80,\n    target    = '/universal_zids/new',\n    method    = 'GET',\n    retries   = 3,\n    timeout   = 500,\n    timeoutFn)\n  {\n    this.failureFn  = failureFn;\n    this.host       = host;\n    this.method     = method;\n    this.port       = port;\n    this.request    = new XMLHttpRequest();\n    this.retries    = retries;\n    this.successFn  = successFn;\n    this.target     = target;\n    this.timeout    = timeout;\n    this.timeoutFn  = timeoutFn;\n\n    const hostname  = this.host.replace(/\\/$/, '');\n    const path      = this.target.replace(/^\\//, '');\n    const repeat    = this.retry;\n    const url       = `${hostname}:${port}/${path}`;\n\n    this.request.open(method, url, true);\n    this.request.setRequestHeader('Accept', 'application/json');\n    this.request.setRequestHeader('Content-Type', 'application/json');\n\n    this.request.onload = function () {\n      if (this.status >= 200 && this.status < 400) {\n        const data = JSON.parse(this.responseText);\n        successFn.call(data);\n      } else {\n        failureFn(this.status, this.responseText);\n      }\n    };\n\n    this.request.onerror = function () {\n      if (this.readyState === 4 && this.status === 0) {\n        failureFn('NO_NETWORK');\n      } else {\n        failureFn(this.status, this.responseText);\n      }\n    };\n\n    this.request.ontimeout = function () {\n      if (timeoutFn) {\n        timeoutFn();\n        return;\n      }\n\n      if (retries > 0) {\n        repeat().send();\n      } else {\n        this.onerror('timeout');\n      }\n    };\n  }\n\n  retry = () =>\n  {\n    return new Request(\n      this.successFn,\n      this.failureFn,\n      this.host,\n      this.target,\n      this.method,\n      this.port,\n      this.retries - 1,\n      this.timeout,\n      this.timeoutFn);\n  }\n\n  send = () =>\n  {\n    this.request.withCredentials = true;\n    this.request.timeout         = this.timeout;\n    this.request.send();\n  }\n}\n\nexport default Request;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/request.js\n **/","\"use strict\";\n\nexports[\"default\"] = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nexports.__esModule = true;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/babel-runtime/helpers/class-call-check.js\n ** module id = 4\n ** module chunks = 0\n **/","/*!\n * JavaScript Cookie v2.1.0\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n(function (factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t} else if (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t} else {\n\t\tvar _OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = _OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api (key, value, attributes) {\n\t\t\tvar result;\n\n\t\t\t// Write\n\n\t\t\tif (arguments.length > 1) {\n\t\t\t\tattributes = extend({\n\t\t\t\t\tpath: '/'\n\t\t\t\t}, api.defaults, attributes);\n\n\t\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\t\tvar expires = new Date();\n\t\t\t\t\texpires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);\n\t\t\t\t\tattributes.expires = expires;\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tresult = JSON.stringify(value);\n\t\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\t\tvalue = result;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\n\t\t\t\tif (!converter.write) {\n\t\t\t\t\tvalue = encodeURIComponent(String(value))\n\t\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\t\t\t\t} else {\n\t\t\t\t\tvalue = converter.write(value, key);\n\t\t\t\t}\n\n\t\t\t\tkey = encodeURIComponent(String(key));\n\t\t\t\tkey = key.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent);\n\t\t\t\tkey = key.replace(/[\\(\\)]/g, escape);\n\n\t\t\t\treturn (document.cookie = [\n\t\t\t\t\tkey, '=', value,\n\t\t\t\t\tattributes.expires && '; expires=' + attributes.expires.toUTCString(), // use expires attribute, max-age is not supported by IE\n\t\t\t\t\tattributes.path    && '; path=' + attributes.path,\n\t\t\t\t\tattributes.domain  && '; domain=' + attributes.domain,\n\t\t\t\t\tattributes.secure ? '; secure' : ''\n\t\t\t\t].join(''));\n\t\t\t}\n\n\t\t\t// Read\n\n\t\t\tif (!key) {\n\t\t\t\tresult = {};\n\t\t\t}\n\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all. Also prevents odd result when\n\t\t\t// calling \"get()\"\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar rdecode = /(%[0-9A-Z]{2})+/g;\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar name = parts[0].replace(rdecode, decodeURIComponent);\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tcookie = converter.read ?\n\t\t\t\t\t\tconverter.read(cookie, name) : converter(cookie, name) ||\n\t\t\t\t\t\tcookie.replace(rdecode, decodeURIComponent);\n\n\t\t\t\t\tif (this.json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tresult = cookie;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!key) {\n\t\t\t\t\t\tresult[name] = cookie;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\tapi.get = api.set = api;\n\t\tapi.getJSON = function () {\n\t\t\treturn api.apply({\n\t\t\t\tjson: true\n\t\t\t}, [].slice.call(arguments));\n\t\t};\n\t\tapi.defaults = {};\n\n\t\tapi.remove = function (key, attributes) {\n\t\t\tapi(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/js-cookie/src/js.cookie.js\n ** module id = 5\n ** module chunks = 0\n **/"],"sourceRoot":""}